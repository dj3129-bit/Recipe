<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="recipe">
	<select id="list" resultType="recipe">
		SELECT * FROM recipepost
	</select>
	<insert id="add" useGeneratedKeys="true" keyProperty="recipeid">
		INSERT INTO recipepost (recipetitle, introduce, recipetag, recipeviews, recommend, isprivate, maincategoryid, userid)
		VALUES (#{recipetitle}, #{introduce}, #{recipetag}, #{recipeviews}, #{recommend}, #{isprivate}, #{maincategoryid}, #{userid})
	</insert>
	
	<select id="item" resultType="Recipe">
		SELECT * FROM recipepost
		WHERE recipeid=#{recipeid}
	</select>
	
	<update id="update">
		UPDATE recipepost (recipetitle, introduce, recipetag, recipeviews, recommend, isprivate, maincategoryid, userid)
		SET recipetitle=#{recipetitle}, introduce=#{introduce}, recipetag=#{recipetag},recipeviews=#{recipeviews}, recommend=#{recommend}, 
		isprivate=#{isprivate}, maincategoryid=#{maincategoryid}, userid=#{userid}
		WHERE recipeid=#{recipeid}
	</update>
	
	<delete id="delete">
		DELETE FROM recipepost
		WHERE recipeid=#{recipeid}
	</delete>
</mapper>